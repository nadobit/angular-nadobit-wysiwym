!function e(n,t,r){function u(a,c){if(!t[a]){if(!n[a]){var l="function"==typeof require&&require;if(!c&&l)return l(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+a+"'")}var o=t[a]={exports:{}};n[a][0].call(o.exports,function(e){var t=n[a][1][e];return u(t?t:e)},o,o.exports,e,n,t,r)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)u(r[a]);return u}({1:[function(e,n,t){n.exports=["$compile",function(e){return{restrict:"EA",link:function(n,t,r){n.$watch(r.nbCompile,function(r){var u=e(r)(n);t.empty().append(u)})}}}]},{}],2:[function(e,n,t){n.exports=function(){return{restrict:"E",templateUrl:"/tpl/nadobit/wysiwym/array.html",require:"ngModel",scope:{schema:"=nbSchema"},link:function(e,n,t,r){e.onDeleteElementClick=function(n){var t=e.value.indexOf(n);e.value.splice(t,1),r.$setViewValue(angular.copy(e.value))},e.onChildChanged=function(){r.$setViewValue(angular.copy(e.value))},e.onAddElementClick=function(){e.value.push({value:null}),r.$setViewValue(angular.copy(e.value))},e.onCutElementClick=function(n){e.pasteSource=function(){var t=e.value.indexOf(n);return e.value.splice(t,1),delete e.pasteSource,n}},e.onPasteElementClick=function(n,t){var r=e.value.indexOf(n),u=e.pasteSource();n===u?e.value.splice(r,0,n):(r=e.value.indexOf(n),e.value.splice(r+t,0,u))},r.$formatters.push(function(e){return angular.isArray(e)?e.map(function(e){return{value:e}}):[]}),r.$parsers.push(function(n){return angular.isArray(n)?e.value.map(function(e){return e.value}):[]}),r.$render=function(){e.value=r.$viewValue}}}}},{}],3:[function(e,n,t){n.exports=function(){return{restrict:"E",templateUrl:"/tpl/nadobit/wysiwym/object.html",require:"ngModel",scope:{schema:"=nbSchema"},link:function(e,n,t,r){function u(){var n={};angular.isArray(e.value)&&angular.forEach(e.value,function(e){n[e.key]=!0}),angular.isArray(e.schemaAttributes)&&e.schemaAttributes.forEach(function(e){e.used=e.key in n})}function i(e,n){return e.key<n.key?-1:e.key>n.key?1:0}e.value=null,e.schemaAttributes=null,e.schemaAttributesByKey={},e.$watch("schema.attributes",function(n){e.schemaAttributesByKey={},e.schemaAttributes=n.map(function(n){var t=angular.copy(n);return e.schemaAttributesByKey[t.key]=t,t}),e.schemaAttributes.sort(i),u()}),e.onAddAttributeClick=function(n){e.value.push({key:n.key,value:null,schema:n}),e.value.sort(i),n.used=!0,r.$setViewValue(angular.copy(e.value))},e.onDeleteAttributeClick=function(n){var t=e.value.indexOf(n);e.value.splice(t,1),e.schemaAttributes.some(function(e){return e.key===n.key?(e.used=!1,!0):void 0}),r.$setViewValue(angular.copy(e.value))},e.onChildChanged=function(){r.$setViewValue(angular.copy(e.value))},r.$formatters.push(function(e){var n=[];return angular.isObject(e)&&(angular.forEach(e,function(e,t){n.push({key:t,value:e})}),n.sort(i)),n}),r.$parsers.push(function(e){var n={};return angular.isArray(e)&&e.forEach(function(e){n[e.key]=e.value}),n}),r.$render=function(){e.value=r.$viewValue,u()}}}}},{}],4:[function(e,n,t){angular.module("nadobit.wysiwym",["ui.bootstrap"]).directive("nbCompile",e("./directives/nb-compile")).directive("nbWysiwymArray",e("./directives/nb-wysiwym-array")).directive("nbWysiwymObject",e("./directives/nb-wysiwym-object"))},{"./directives/nb-compile":1,"./directives/nb-wysiwym-array":2,"./directives/nb-wysiwym-object":3}]},{},[4]);